#pragma once
#include "ConstBuffer.h"
#include "Vector3.h"
#include "Vector4.h"

namespace YGame
{
	class Color
	{
	public:
		// 定数バッファデータ構造体 (色)
		struct CBData
		{
			YMath::Vector4 color_; // 色 (RGBA)
			YMath::Vector4 originalColorRate_; // 元の色の割合
		};

	private:
		// 色
		YMath::Vector4 color_;
		// 元の色の割合
		YMath::Vector4 originalColorRate_;
		// 定数バッファ(マテリアル1)
		YDX::ConstBuffer<CBData> cBuff_;

	public:
		// 生成
		static Color* Create(
			const YMath::Vector4& color = { 1.0f,1.0f,1.0f,1.0f },
			const YMath::Vector4& originalColorRate = { 1.0f,1.0f,1.0f,1.0f }
		);

	public:
		// 初期化
		void Initialize(
			const YMath::Vector4& color = { 1.0f,1.0f,1.0f,1.0f },
			const YMath::Vector4& originalColorRate = { 1.0f,1.0f,1.0f,1.0f }
		);

		// 描画前コマンド
		void SetDrawCommand(const UINT rootParamIndex);

	public:
		// RGBA取得
		YMath::Vector4 GetRGBA() const { return color_; }
		
		// 色 + アルファ値設定 (0.0f 〜 1.0f)
		void SetRGBA(const YMath::Vector4& color);
		// 色 + アルファ値設定 (0 〜 255)
		void SetRGBA(const UINT R, const UINT G, const UINT B, const UINT A);
		// 色設定 (0.0f 〜 1.0f)
		void SetRGB(const YMath::Vector3& color);
		// 色設定 (0 〜 255)
		void SetRGB(const UINT R, const UINT G, const UINT B);
		// アルファ値設定 (0.0f 〜 1.0f)
		void SetAlpha(const float alpha);
		// アルファ値設定 (0 〜 255)
		void SetAlpha(const UINT alpha);

	public:
		// 元の色の割合取得
		YMath::Vector4 GetOriginalColorRate() const { return originalColorRate_; }
		
		// 色 + アルファ値設定 (0.0f 〜 1.0f)
		void SetOriginalColorRateRGBA(const YMath::Vector4& color);
		// 色 + アルファ値設定 (0 〜 255)
		void SetOriginalColorRateRGBA(const UINT R, const UINT G, const UINT B, const UINT A);
		// 色設定 (0.0f 〜 1.0f)
		void SetOriginalColorRateRGB(const YMath::Vector3& color);
		// 色設定 (0 〜 255)
		void SetOriginalColorRateRGB(const UINT R, const UINT G, const UINT B);
		// アルファ値設定 (0.0f 〜 1.0f)
		void SetOriginalColorRateAlpha(const float alpha);
		// アルファ値設定 (0 〜 255)
		void SetOriginalColorRateAlpha(const UINT alpha);
	private:
		Color();
	public:
		~Color() = default;
	};
}

